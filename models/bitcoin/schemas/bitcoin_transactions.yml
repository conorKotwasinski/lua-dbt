version: 2

models:
  - name: bitcoin_transactions
    config:
      alias: transactions
    description: >
      Bitcoin transactions are broadcast between peers in a serialized byte format, called raw format. 
      It is this form of a transaction which is SHA256(SHA256()) hashed to create the TXID and, 
      ultimately, the merkle root of a block containing the transactionâ€”making the transaction 
      format part of the consensus rules.
    meta:
      url: https://developer.bitcoin.org/reference/transactions.html
    columns:
      - name: block_number
        description: "Block number of this transaction"
        tests:
          - not_null

      - name: block_hash
        description: "A unique identifier for the block"
        tests:
          - not_null

      - name: block_timestamp
        description: "The timestamp when the block was mined (UTC)"

      - name: transaction_index
        description: "Index of this transaction within the block"

      - name: hash
        description: "With the signature hash, the transaction can be cryptographically proven that it came from the sender and submitted to the network."
        tests:
          - not_null

      - name: size
        description: "Size of transaction in bytes"
        tests:
          - not_null

      - name: virtual_size
        description: "Virtual size of transaction in bytes"
        tests:
          - not_null

      - name: version
        description: "Version"
        tests:
          - not_null

      - name: lock_time
        description: "Lock time"
        tests:
          - not_null

      - name: is_coinbase
        description: "Is this a coinbase transaction?"
        tests:
          - not_null

      - name: input_count
        description: "Number of inputs"
        tests:
          - not_null

      - name: output_count
        description: "Number of outputs"
        tests:
          - not_null

      - name: input_value
        description: "Total value of inputs"
        tests:
          - not_null

      - name: output_value
        description: "Total value of outputs"
        tests:
          - not_null

      - name: fee
        description: "Fee paid"
        tests:
          - not_null
