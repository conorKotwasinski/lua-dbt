version: 2

models:
  - name: bitcoin_transaction_inputs
    config:
      alias: transaction_inputs
    description: >
      Bitcoin transactions are broadcast between peers in a serialized byte format, called raw format. 
      It is this form of a transaction which is SHA256(SHA256()) hashed to create the TXID and, 
      ultimately, the merkle root of a block containing the transactionâ€”making the transaction 
      format part of the consensus rules.
    meta:
      url: https://developer.bitcoin.org/reference/transactions.html
    columns:
      - name: block_number
        description: "Block number of this transaction"
        tests:
          - not_null

      - name: block_hash
        description: "A unique identifier for the block"
        tests:
          - not_null

      - name: block_timestamp
        description: "The timestamp when the block was mined (UTC)"

      - name: transaction_hash
        description: "A unique identifier for the transaction"
        tests:
          - not_null

      - name: input_index
        description: "Index of this input within the transaction"
        tests:
          - not_null

      - name: spent_transaction_hash
        description: "A unique identifier for the transaction this input is spending"
        tests:
          - not_null

      - name: spent_output_index
        description: "Index of the output within the transaction this input is spending"
        tests:
          - not_null

      - name: script_asm
        description: "The script in assembly"
        tests:
          - not_null

      - name: script_hex
        description: "The script in hex"
        tests:
          - not_null

      - name: sequence
        description: "The sequence number"
        tests:
          - not_null

      - name: required_signatures
        description: "The number of required signatures"
        tests:
          - not_null

      - name: type
        description: "The type of input"
        tests:
          - not_null

      - name: addresses
        description: "The addresses associated with this input"
        tests:
          - not_null

      - name: value
        description: "The value of this input"
        tests:
          - not_null
